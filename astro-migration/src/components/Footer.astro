---
const currentYear = new Date().getFullYear();

const footerLinks = [
  { href: '#', label: 'Switch theme', icon: 'theme' },
  { href: 'https://twitter.com/aravindballa', label: 'Twitter' },
  { href: 'https://github.com/aravindballa/website', label: 'Source' },
  { href: 'https://github.com/aravindballa', label: 'Github' },
  { href: '/rss.xml', label: 'RSS' },
  { href: 'https://www.youtube.com/channel/UC2y7GYWCZtXApu6iQmlmFnw', label: 'YouTube' },
  { href: 'https://notes.aravindballa.com/', label: 'Notes' },
];
---

<footer class="border-t border-gray-200 dark:border-gray-800 mt-16">
  <div class="container mx-auto px-4 py-8 max-w-4xl">
    <div class="flex flex-col md:flex-row items-start justify-between space-y-6 md:space-y-0">
      <!-- Logo and Copyright -->
      <div class="flex flex-col items-start space-y-2">
        <a href="/" class="hover:opacity-80 transition-opacity">
          <img 
            src="/logo.png" 
            alt="AB Logo" 
            class="h-10 w-10 dark:hidden"
          />
          <img 
            src="/logo-dark.png" 
            alt="AB Logo" 
            class="h-10 w-10 hidden dark:block"
          />
        </a>
        <p class="text-sm text-gray-600 dark:text-gray-400">Copyright Â© {currentYear}</p>
      </div>

      <!-- Footer Links -->
      <div class="flex flex-wrap gap-x-4 gap-y-2 text-sm">
        {footerLinks.map((link) => {
          if (link.icon === 'theme') {
            return (
              <button
                type="button"
                class="text-gray-600 dark:text-gray-400 hover:text-headings transition-colors theme-toggle-footer"
                aria-label="Toggle theme"
              >
                {link.label}
              </button>
            );
          }
          return (
            <a
              href={link.href}
              class="text-gray-600 dark:text-gray-400 hover:text-headings transition-colors"
              target={link.href.startsWith('http') ? '_blank' : undefined}
              rel={link.href.startsWith('http') ? 'noopener noreferrer' : undefined}
            >
              {link.label}
            </a>
          );
        })}
      </div>
    </div>
  </div>
</footer>

<script>
  // Footer theme toggle
  const footerThemeToggle = document.querySelector('.theme-toggle-footer');
  const html = document.documentElement;
  
  footerThemeToggle?.addEventListener('click', () => {
    const isDark = html.classList.toggle('dark');
    localStorage.setItem('theme', isDark ? 'dark' : 'light');
  });
</script>